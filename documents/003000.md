# vue 源码分析准备工作

### vue 使用到的一些技术

- ESLint, 统一代码风格
- 静态类型检查工具: Vue 使用的是 Flow, TypeScript 也具有类型检查的功能, 其实最新版本的 Vue 已经使用 TypeScript 重写过了
- Vue 是通过 Rollup 构建的, 那为什么不用 webpack 进行构建呢? Rollup Vs Webpack
- vue 可以构建成多个版本(即编译成不同版本的 js), 比如: cjs, esm, umd

### 疑问

vue 为什么要使用 ES5 的方式来定义 Vue 类呢, 为什么不直接用 ES6 的 class 呢?

### 会使用到的 API

[Object.defineProperty(), setter, getter](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)

[Node.nodeType](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType): 值为 `1` 表示是元素节点

[Element.querySelector()](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/querySelector): 返回与指定的选择器组匹配的元素的后代的`第一个`元素

[Document.createDocumentFragment()](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/createDocumentFragment): 内存中操作 DOM, 避免浏览器多次渲染

[Function.prototype.bind()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind): 改变方法 `this` 指向

[Function.prototype.call()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call)

[Function.prototype.apply()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)

[数组的 api](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array): 类数组 转 数组([].slice.call(nodeAttrs))

[RegExp.$1-$9](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/n)

### 单向数据绑定: Model -> View

如何监听 Model 改变了: Object.defineProperty 递归劫持各个属性的 setter，getter

Model 改变了如何触发对应视图的改变, Model 和 视图 的映射: 模板编译器 Compiler

### 双向数据绑定, 在单向的基础上, View(表单组件) -> Model

监听表单组件的变更事件, 改变 Model 上的对应数据
